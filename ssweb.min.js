/*! 
 * SSweb Library
 * SSweb is a JS prototype or an extension library of its own.
 * @version 1.5.1 01/19/2018
 * @author ygzhang.cn@msn.com
 * @link 24vote.cn
 * @copyright 2015-2018 Kunming Dongring Technology Co., Ltd.
 */
 !function(window){"use strict";window.console=window.console||{log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}};var _SSweb=window.SSweb||{},SSweb=function(e){return new SSweb.fn.instance(void 0!==e?e:void 0)},_obj_types={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},_run_args={debug:0,prototypeExtend:1};SSweb.currentScript=function(e,t){var r=e||window,o=t||document;if(o.currentScript)return o.currentScript.src;var n;try{a.b.c()}catch(e){!(n=e.stack)&&r.opera&&(n=(String(e).match(/of linked script \S+/g)||[]).join(" "))}if(n)return n=n.split(/[@ ]/g).pop(),(n="("==n[0]?n.slice(1,-1):n).replace(/(:\d+)?:\d+$/i,"");for(var i,s=o.getElementsByTagName("script"),c=0;i=s[c++];)if("interactive"===i.readyState)return i.className=i.src;return""},function(){var e=SSweb.currentScript();if("string"==typeof e&&e.indexOf("?")>0&&e.indexOf("=")){var t,r,o=(e=e.substr(e.indexOf("?")+1).split("&")).length;for(r=0;r<o;r++)(t=e[r].split("=")).length>1&&"string"==typeof t[0]&&_run_args.hasOwnProperty(t[0])&&(_run_args[t[0]]=0==t[1]?0:1==t[1]?1:t[1])}}(),_run_args.debug&&console.info("SSweb Runing Args:"),_run_args.debug&&console.info(_run_args),_run_args.prototypeExtend&&(String.prototype.trim||(console.info("SSweb Extend: String.prototype.trim"),String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),String.prototype.trimLeft||(console.info("SSweb Extend: String.prototype.trimLeft"),String.prototype.trimLeft=function(){return this.replace(/(^\s*)/g,"")}),String.prototype.trimRight||(console.info("SSweb Extend: String.prototype.trimRight"),String.prototype.trimRight=function(){return this.replace(/(\s*$)/g,"")}),Array.isArray||(console.info("SSweb Extend: Array.isArray"),Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.forEach||(console.info("SSweb Extend: Array.prototype.forEach"),Array.prototype.forEach=function(e){var t,r;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),n=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),r=0;r<n;){var i;r in o&&(i=o[r],e.call(t,i,r,o)),r++}}),Array.prototype.map||(console.info("SSweb Extend: Array.prototype.map"),Array.prototype.map=function(e){var t,r,o;if(null==this)throw new TypeError("this is null or not defined");var n=Object(this),i=n.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(t=arguments[1]),r=new Array(i),o=0;o<i;){var s,a;o in n&&(s=n[o],a=e.call(t,s,o,n),r[o]=a),o++}return r}),Array.prototype.some||(console.info("SSweb Extend: Array.prototype.some"),Array.prototype.some=function(e){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError("Array.prototype.some callback not function");for(var t=Object(this),r=t.length>>>0,o=arguments.length>=2?arguments[1]:void 0,n=0;n<r;n++)if(n in t&&e.call(o,t[n],n,t))return!0;return!1}),Array.prototype.every||(console.info("SSweb Extend: Array.prototype.every"),Array.prototype.every=function(e){var t,r;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),n=o.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(t=thisArg),r=0;r<n;){var i;if(r in o&&(i=o[r],!e.call(t,i,r,o)))return!1;r++}return!0}),Array.prototype.filter||(console.info("SSweb Extend: Array.prototype.filter"),Array.prototype.filter=function(e){if("function"!=typeof e||!this)throw new TypeError;var t=this.length>>>0,r=new Array(t),o=this,n=0,i=-1;if(void 0===thisArg)for(;++i!==t;)if(i in this)if(e(o[i],i,o))r[n++]=o[i];else for(;++i!==t;)i in this&&e.call(thisArg,o[i],i,o)&&(r[n++]=o[i]);return r.length=n,r}),Array.prototype.indexOf||(console.info("SSweb Extend: Array.prototype.indexOf"),Array.prototype.indexOf=function(e,t){if(null==this)throw new TypeError("Array.prototype.indexOf() - can't convert `"+this+"` to object");var r=isFinite(t)?Math.floor(t):0,o=this instanceof Object?this:new Object(this),n=isFinite(o.length)?Math.floor(o.length):0;if(r>=n)return-1;if(r<0&&(r=Math.max(n+r,0)),void 0===e){do{if(r in o&&void 0===o[r])return r}while(++r<n)}else do{if(o[r]===e)return r}while(++r<n);return-1}),Array.prototype.lastIndexOf||(console.info("SSweb Extend: Array.prototype.lastIndexOf"),Array.prototype.lastIndexOf=function(e){if(void 0===this||null===this)throw new TypeError;var t,r,o=Object(this),n=o.length>>>0;if(0===n)return-1;for(t=n-1,arguments.length>1&&((t=Number(arguments[1]))!=t?t=0:0!=t&&t!=1/0&&t!=-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),r=t>=0?Math.min(t,n-1):n-Math.abs(t);r>=0;r--)if(r in o&&o[r]===e)return r;return-1}),"object"!=typeof JSON&&(console.info("SSweb Extend: JSON"),JSON={},function(){function f(e){return 10>e?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,o,n,i,s,a=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,r=0;i>r;r+=1)s[r]=str(r,c)||"null";return n=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,n}if(rep&&"object"==typeof rep)for(i=rep.length,r=0;i>r;r+=1)"string"==typeof rep[r]&&(o=rep[r],(n=str(o,c))&&s.push(quote(o)+(gap?": ":":")+n));else for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(n=str(o,c))&&s.push(quote(o)+(gap?": ":":")+n);return n=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,n}}var gap,indent,meta,rep,rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","   ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var o;if(gap="",indent="","number"==typeof r)for(o=0;r>o;o+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,o,n=e[t];if(n&&"object"==typeof n)for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(o=walk(n,r),void 0!==o?n[r]=o:delete n[r]);return reviver.call(e,t,n)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),window.JSON=JSON}())),SSweb.fn=SSweb.prototype={SSweb:"1.0.3",constructor:SSweb,selector_type:void 0,selector_obj:void 0,instance:function(e){return void 0!==e&&(this.selector_obj=e,this.selector_type=SSweb.objectType(e)),this},length:0,toArray:function(){return Array.prototype.slice.call(this)}},SSweb.fn.instance.prototype=SSweb.fn,SSweb.extend=SSweb.fn.extend=function(){var e,t,r,o,n,i,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},a=2),"object"==typeof s||SSweb.isFunction(s)||(s={}),c===a&&(s=this,--a);a<c;a++)if(null!=(e=arguments[a]))for(t in e)r=s[t],s!==(o=e[t])&&(u&&o&&(SSweb.isPlainObject(o)||(n=SSweb.isArray(o)))?(n?(n=!1,i=r&&SSweb.isArray(r)?r:[]):i=r&&SSweb.isPlainObject(r)?r:{},s[t]=SSweb.extend(u,i,o)):void 0!==o&&(s[t]=o));return s};var baseMethod={selector_type:SSweb.selector_type,selector_obj:SSweb.selector_obj,objectType:function(e){var t=void 0!==e?e:this.selector_obj;return null===t?t+"":"object"==typeof t||"function"==typeof t?_obj_types[Object.prototype.toString.call(t)]||"object":typeof t},log:function(e){var t=void 0!==e?e:this.selector_obj;window.console.log(t)},isUndefined:function(e){var t=void 0!==e?e:this.selector_obj;return void 0===t||void 0===t},isInt:function(e){var t=void 0!==e?e:this.selector_obj;return/^(-|\+)?\d+$/.test(t)},isFloat:function(e){var t=void 0!==e?e:this.selector_obj;return/^(-|\+)?\d+\.\d*$/.test(t)},isNaN:function(e){var t=void 0!==e?e:this.selector_obj;return null==t||!/\d/.test(t)||isNaN(t)},isNumber:function(e){var t=void 0!==e?e:this.selector_obj;return null!=t&&/\d/.test(t)&&!isNaN(t)},toInt:function(e){var t=void 0!==e?e:this.selector_obj;return parseInt(t)||0},toFloat:function(e){var t=void 0!==e?e:this.selector_obj;return(parseFloat(t)||0).toFixed(2)},isString:function(e){return"string"==typeof(void 0!==e?e:this.selector_obj)},isArray:function(e){var t=void 0!==e?e:this.selector_obj;return Array.prototype.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},inArray:function(e,t){var r=e;return arguments.length>1?t:this.selector_obj,!!this.isArray(r)&&(r.forEach(function(e){if(console.log(e),e===r)return!0}),!1)},isFunction:function(e){var t=void 0!==e?e:this.selector_obj;if("object"!=typeof document.getElementById)return"[object Function]"===Object.prototype.toString.call(t);try{return/^\s*\bfunction\b/.test(""+t)}catch(e){return!1}},isCallFunction:function(e,t){var r,o=window;return arguments.length>=2?(r=e,o=t):1==arguments.length?this.selector_obj?(r=this.selector_obj,o=e):r=e:r=this.selector_obj,this.isObject(o)||(o=window),"string"==typeof r?!(!o.hasOwnProperty(r)||!this.isFunction(o[r]))&&o[r]:!!this.isFunction(r)&&r},isTrue:function(e){var t=void 0!==e?e:this.selector_obj;if(void 0===t||"null"==typeof t)return!1;if(1===t||"1"===t||!0===t||"true"===t)return!0;if(0===t||"0"===t||!1===t||"false"===t||"undefined"===t||"null"===t||""===t)return!1;if("object"==typeof t){if("{}"===t)return!1;for(var r in t)return!0}return!0},isEmpty:function(e){var t=void 0!==e?e:this.selector_obj;return null===t||void 0===t||("string"==typeof t&&t.length<1||(!(!this.isNumber(t)||0!=t)||!!(this.isArray(t)&&t.length<1)))},isObject:function(e){var t=void 0!==e?e:this.selector_obj,r=typeof t;return!!(t&&"function"===r||"object"===r)},isEmptyObject:function(e){var t=void 0!==e?e:this.selector_obj;if(this.isObject(t)){for(var r in t)return!1;return!0}return!1},isPlainObject:function(e){var t=void 0!==e?e:this.selector_obj;if("[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object&&!hasOwnProperty.call(t,"constructor")){var r;for(r in t);return void 0===r||hasOwnProperty.call(t,r)}return!1},isjQueryObject:function(e){var t=void 0!==e?e:this.selector_obj;return"undefined"!=typeof jQuery&&!!(t&&t instanceof jQuery)},isWindow:function(e){var t=void 0!==e?e:this.selector_obj;return null!=t&&t==t.window},isDocument:function(e){var t=void 0!==e?e:this.selector_obj;return null!=t&&t.nodeType==t.DOCUMENT_NODE},isDomElement:function(e){var t=void 0!==e?e:this.selector_obj;return"object"==typeof HTMLElement?!!(t&&t instanceof HTMLElement):!(!t||"object"!=typeof t||1!==t.nodeType||"string"!=typeof t.nodeName)}};SSweb.extend(baseMethod),SSweb.fn.extend(baseMethod);var helpsMethod={trim:function(e){return"string"==typeof e?e.replace(/(^\s*)|(\s*$)/g,""):""},trimLeft:function(e){return"string"==typeof e?e.replace(/(^\s*)/g,""):""},trimRight:function(e){return"string"==typeof e?e.replace(/(\s*$)/g,""):""},arrayUnique:function(e){var t=[];if(SSweb.isArray(e)){if(e.length<2)return[e[0]]||[];var r,o={},n=e.length;for(r=0;r<n;r++)o[e[r]]||(t.push(e[r]),o[e[r]]=1)}return t},arrayRemove:function(e,t){if(!SSweb.isArray(e))return[];var r=0,o=e.length,n=[];for(r;r<o;r++)t!=e[r]&&n.push(e[r]);return n},arrayUnset:function(e,t){if(!SSweb.isArray(e))return[];if(!SSweb.isNumber(t))return e;t=parseInt(t);var r=0,o=e.length,n=[];for(t<0&&(t+=o),r;r<o;r++)e[r]&&t!=r&&n.push(e[r]);return n},toPercent:function(e){return this.isNumber(e)?(100*e).toFixed(2)+"%":"0.00%"},formatPercent:function(e){return this.isNumber(e)?e.toFixed(2)+"%":"0.00%"},formatBytesSize:function(e){if(!this.isNumber(e))return"0 B";if(e<1)return"0 B";var t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,r)).toFixed(2)+" "+t[r]},formatMoney:function(e,t,r,o){var n=e||0,i=isNaN(t=Math.abs(t))?2:t,s="string"==typeof r||void 0!==r?r:"ï¿¥",a="string"==typeof o||void 0!==o?o:",",c=n<0?"-":"";if(!SSweb.isNumber(n))return i<1?"0":"0."+(0).toFixed(i).slice(2);var u=parseInt(n=Math.abs(+n||0).toFixed(i),10)+"",f=(f=u.length)>3?f%3:0;return s+c+(f?u.substr(0,f)+a:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(i?"."+Math.abs(n-u).toFixed(i).slice(2):"")},replaceValueMatch:function(e,t){if("string"!=SSweb.objectType(e))return"";if("object"!=SSweb.objectType(t))return e;var r=(e=e.replace("%5B","[").replace("%5D","]")).match(/\[\w+\]/g);if(r.length>0){var o=[];r.forEach(function(r){"string"==typeof r&&((o=r.replace("[","").replace("]","")).indexOf(".")>0?(o=o.split("."))[0]&&o[1]&&t[o[0]][o[1]]&&(e=e.replace(r,t[o[0]][o[1]])):t[o]&&(e=e.replace(r,t[o])))})}return e},dateFormat:function(e,t){if(SSweb.isNumber(e)){if(e>=1e9&&e<=9999999999)e*=1e3;else if(e<1e9)return""}else{if("string"!=typeof e)return"";var r=e.match(/(\/Date\((\d+)\)\/)/);if(!(r&&r.length>=3))return e;e=parseInt(r[2])}var o=new Date(e);if(!o||"Invalid Date"==o.toUTCString())return"";"string"!=typeof t&&(t="yyyy-mm-dd hh:ii:ss");var n={m:o.getMonth()+1,d:o.getDate(),h:o.getHours(),i:o.getMinutes(),s:o.getSeconds(),q:Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};return t=t.replace(/([ymdhisqS])+/g,function(e,t){var r=n[t];return void 0!==r?(e.length>1&&(r=(r="0"+r).substr(r.length-2)),r):"y"===t?(o.getFullYear()+"").substr(4-e.length):e})},urlGetParam:function(e,t){var r="string"==typeof e&&this.trim(e),o="string"==typeof t?this.trim(t):window.location.href;if(""==o||!r)return"";var n="",i=!1,s="",a=0;if(o.indexOf("?")>0&&o.indexOf("=")>0){if(!(o=unescape(o).split("?"))[1])return"";if(s=o[1].split("&"),""==r)return s;for(;a<s.length&&!i;)s[a].indexOf("=")>0&&s[a].split("=")[0].toLowerCase()==r.toLowerCase()&&(n=s[a].split("=")[1],i=!0),a++}return""==n||null==n?"":n},urlAddParam:function(_name,_value,_url){var name="string"==typeof _name&&this.trim(_name),value=void 0===_value?"undefined":_value,url="string"==typeof _url?this.trim(_url):window.location.href;if(!name)return url;var newUrl="",reg=new RegExp("(^|)"+name+"=([^&]*)(|$)"),tmp=name+"="+value;return newUrl=null!=url.match(reg)?url.replace(eval(reg),tmp):url.match("[?]")?url+"&"+tmp:url+"?"+tmp},urlParse:function(e){var t="string"==typeof e?e:window.location.href,r="",o="",n={domain:"",port:80,ssl:0,params:{}};if(""==(t=this.trim(t)))return n;(t=t.split("?"))[0]&&"string"==typeof t[0]&&(r=t[0].toLowerCase(),t.length>1&&(t[0]="")),o=t.join("");-1!==r.indexOf("https://")?(n.ssl=1,n.port=443):(n.ssl=0,n.port=80);var i=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/.exec(r);i&&"string"==typeof i[0]&&(n.domain=i[0]),o=o.split("&");for(var s=0;s<o.length;s++){var a=o[s].indexOf("=");if(-1!=a){var c=o[s].substring(0,a);if("string"==typeof c&&""!=c){var u=o[s].substring(a+1);n.params[c]=u}}}return n},randomString:function(e,t){var r=SSweb.isNumber(e)&&parseInt(e)||16,o="string"==typeof t&&t||"",n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];"alpha"==o?n=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:"number"==o&&(n=["0","1","2","3","4","5","6","7","8","9"]),o="";var i;for(i=0;i<r;i++)o+=n[Math.round(Math.random()*(n.length-1))];return o}};SSweb.extend(helpsMethod);var _getClient=function(){var e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase(),r={win:!1,mac:!1,ios:!1,android:!1,unix:!1,linux:!1,other:!1};e.indexOf("win")>-1?r.windows=!0:e.indexOf("mac")>-1?r.mac=!0:e.indexOf("android")>-1?r.android=!0:e.indexOf("linux")>-1?r.linux=!0:"x11"==e?r.unix=!0:r.other=!0;var o={pc:!1,mobile:!1,android:!1,iphone:!1,ipad:!1,ipod:!1};(t.match(/applewebkit.*mobile.*/)||t.indexOf("windows ce")>-1||t.indexOf("windows mobile")>-1)&&(o.mobile=!0),t.match(/iphone|ipad|ipod/i)?(r.ios=!0,o.mobile=!0,t.match(/ipad/i)?o.ipad=!0:t.match(/ipad/i)?o.ipad=!0:o.iphone=!0):t.match(/(android);?[\s\/]+([\d.]+)?/)?o.android=!0:o.pc=!0;var n,i={lang:(navigator.browserLanguage||navigator.language||"").toLowerCase(),version:0,versionFull:"",isIE:!1,isIE6:!1,isIE7:!1,isIE8:!1,isIE9:!1,isIE10:!1,isIE11:!1,isEdge:!1,isChrome:!1,isSafari:!1,isFirefox:!1,isOpera:!1},s={};(n=t.match(/edge\/([\d.]+)/))?s.edge=n[1]:(n=t.match(/rv:([\d.]+)\) like gecko/))?s.ie=n[1]:(n=t.match(/msie ([\d.]+)/))?s.ie=n[1]:(n=t.match(/firefox\/([\d.]+)/))?s.firefox=n[1]:(n=t.match(/chrome\/([\d.]+)/))?s.chrome=n[1]:(n=t.match(/opera.([\d.]+)/))?s.opera=n[1]:(n=t.match(/version\/([\d.]+).*safari/))&&(s.safari=n[1]),s.edge&&(i.isEdge=!0,i.versionFull=s.edge),s.ie&&(i.isIE=!0,i.versionFull=s.ie),s.firefox&&(i.isFirefox=!0,i.versionFull=s.firefox),s.chrome&&(i.isChrome=!0,i.versionFull=s.chrome),s.opera&&(i.isOpera=!0,i.versionFull=s.opera),s.safari&&(i.isSafari=!0,i.versionFull=s.safari),i.versionFull<1&&(i.versionFull=navigator.appVersion||0),i.version=parseInt(i.versionFull,10),s.ie&&(s.ie=parseInt(s.ie||6,10),i.hasOwnProperty("isIE"+s.ie)&&(i["isIE"+s.ie]=!0));var a="ontouchend"in document;return{os:r,device:o,browser:i,touchSupport:a,touchEvent:a?"touchstart":"click"}},_client=_getClient(),_cookies=function(e,t,r){return 1===arguments.length?_cookies.get(e):arguments.length>1&&null===t&&void 0!==t?_cookies.rm(e,r):arguments.length>1?"number"==typeof r?_cookies.set(e,t,{expires:r}):_cookies.set(e,t,r):_cookies};_cookies._document=window.document,_cookies._cacheKeyPrefix="sw_",_cookies._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),_cookies.defaults={path:"/",domain:"",prefix:"sw_",expires:0,secure:!1},_cookies.config=function(e,t){return"object"==typeof e?_cookies.defaults=SSweb.extend(_cookies.defaults,e):"string"==typeof e&&(_cookies.defaults[SSweb.trim(e)]=void 0===t?void 0:t),_cookies._cacheKeyPrefix=_cookies.defaults.prefix,_cookies},_cookies.get=function(e){if("string"!=typeof e)return console.info("SSweb cookies `key` must be a string"),!1;_cookies._cachedDocumentCookie!==_cookies._document.cookie&&_cookies._renewCache();var t=_cookies._cache[_cookies._cacheKeyPrefix+e];if("[=UNDEFINED]"!==t)return void 0===t?null:t},_cookies.set=function(e,t,r){if("string"!=typeof e)return console.info("SSweb cookies `key` must be a string"),!1;var o;if(o="number"==typeof r?_cookies._getExtendedOptions({expires:r}):_cookies._getExtendedOptions(r),void 0===t)t="[=UNDEFINED]";else{if("string"==typeof t||SSweb.isFunction(t))return console.info("SSweb cookies `value` types does not support"),!1;try{t="[=JSON]"+JSON.stringify(t)}catch(e){if(t.toString)return console.info("SSweb cookies `value` types does not support"),!1;t=t.toString()}}return o.expires=_cookies._getExpiresDate(o.expires),_cookies._document.cookie=_cookies._generateCookieString(e,t,o),!0},_cookies.rm=function(e){return _cookies.set(e,void 0,{expires:-1})},_cookies._getExtendedOptions=function(e){return{path:e&&e.path||_cookies.defaults.path,domain:e&&e.domain||_cookies.defaults.domain,expires:e&&e.expires||_cookies.defaults.expires,secure:e&&void 0!==e.secure?e.secure:_cookies.defaults.secure}},_cookies._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},_cookies._getExpiresDate=function(e,t){if(t=t||new Date,(e="number"==typeof e&&0!=e?e===1/0?_cookies._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&""!=e?new Date(e):void 0)&&!_cookies._isValidDate(e))throw new Error("SSweb cookies `expires` cannot be converted to a valid Date instance");return e},_cookies._generateCookieString=function(e,t,r){e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"),r=r||{};var o=_cookies._cacheKeyPrefix+e+"="+t;return o+=r.path&&""!=r.path?";path="+r.path:"",o+=r.domain&&""!=r.domain?";domain="+r.domain:"",o+=r.expires&&""!=r.expires&&0!=r.expires?";expires="+r.expires.toUTCString():"",o+=r.secure?";secure":""},_cookies._getCacheFromString=function(e){for(var t={},r=e?e.split("; "):[],o=0;o<r.length;o++){var n=_cookies._getKeyValuePairFromCookieString(r[o]);n&&void 0===t[n.key]&&(t[n.key]=n.value)}return t},_cookies._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var r,o,n,i=!1;try{r=e.substr(0,t),0===(o=decodeURIComponent(r)).indexOf(_cookies._cacheKeyPrefix)&&("string"==typeof(n=e.substr(t+1))?0===n.indexOf("[=JSON]")&&n.length>7&&(n=JSON.parse(n.substr(7))):n=null,i=!0)}catch(e){console.error('SSweb cookies could not decode cookie with key "'+r+'"',e)}return!!i&&{key:o,value:n}},_cookies._renewCache=function(){_cookies._cache=_cookies._getCacheFromString(_cookies._document.cookie),_cookies._cachedDocumentCookie=_cookies._document.cookie},_cookies._areEnabled=function(){_cookies.set("testKey",1);var e=1===_cookies.get("testKey");return _cookies.rm("testKey"),e},_cookies.enabled=_cookies._areEnabled(),_cookies.enabled||console.info("SSweb: Browser/client does not support cookies"),window.localStorage||console.info("SSweb: Browser/client does not support localStorage");var _storage=function(e,t){return!!_storage.db&&(1===arguments.length?_storage.get(e):arguments.length>1&&null===t&&void 0!==t?_storage.rm(e):arguments.length>1?_storage.set(e,t):_storage)};_storage.db=window.localStorage||!1,_storage.set=function(e,t){if(_storage.db&&arguments.length>1&&"string"==typeof e){if(void 0===t)return t="[=UNDEFINED]",_storage.db.setItem(e,t),!0;if("string"!=typeof t&&!SSweb.isFunction(t))try{return _storage.db.setItem(e,"[=JSON]"+JSON.stringify(t)),!0}catch(r){if(t.toString)return _storage.db.setItem(e,t.toString()),!0}}return console.info("SSweb storage `value` types does not support"),!1},_storage.get=function(e){if(_storage.db&&"string"==typeof e){var t=_storage.db.getItem(e);if(void 0===t)return null;if("string"==typeof t){if("[=UNDEFINED]"===t)return;0===t.indexOf("[=JSON]")&&t.length>7&&(t=JSON.parse(t.substr(7)))}return t}return!1},_storage.rm=function(e){return!(!_storage.db||"string"!=typeof e)&&(_storage.db.removeItem(e),!0)},_storage.clear=function(){return!!_storage.db&&(_storage.db.clear(key),!0)},SSweb.extend({client:_client,cookies:_cookies,storage:_storage}),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=SSweb:"function"==typeof define&&define.amd?define(function(){return SSweb}):window.SSweb=window.sw=SSweb}(window);