/*! 
 * SSweb Library
 * SSweb is a JS prototype or an extension library of its own.
 * @version 1.5.1 01/19/2018
 * @author ygzhang.cn@msn.com/437654450@qq.com/97572655@qq.com ....
 * @link https://github.com/ygzhang-cn/SSweb
 * @copyright 2015-2018 Kunming Dongring Technology Co., Ltd.
 * -----------------------------------------------------
 * SSweb (被前端狗称为丝袜库)用于公司传统网页前端项目常用JS基础&工具库,支持传统方式引入或AMD/CMD方式加载
 * 
 * 造轮子的目的或目标：传统网页前端项目需要考虑N多兼容问题，使用频繁且繁琐，几代前端早的小轮子,经过N个项目不断修正迭代的JS原型或其sw自身的扩展库
 * 1、对于IE/6/7/8这种古董浏览器，丝袜库尝试检查并扩展ES5几个很常用原生方法（支持动态扩展定义或关闭）
 * 
 * (trimLeft/trimRight/forEach/map/some/every/filter/indexOf/lastIndexOf/JSON)
 * 引入或AMD/CMD加载时，文件后缀增加查询参数即可关闭原生扩展, 如 ../ssweb.min.js?prototypeExtend=0
 * 
 * 2、实现了类似JQ的扩展插件机制（SSweb.extend/SSweb.fn.extend）
 */
 !function(window){"use strict";window.console=window.console||{log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}};var sw=function(e,t){return new sw.fn.instance(e,t)},_uuid=0,_obj_types={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string"},_run_args={debug:1,prototypeExtend:1},SSweb=sw;sw.currentScript=function(e,t){var r=e||window,n=t||document||window.document;if(n.currentScript)return n.currentScript.src;var o;try{a.b.c()}catch(e){!(o=e.stack)&&r.opera&&(o=(String(e).match(/of linked script \S+/g)||[]).join(" "))}if(o)return o=o.split(/[@ ]/g).pop(),(o="("==o[0]?o.slice(1,-1):o).replace(/(:\d+)?:\d+$/i,"");for(var i,s=n.getElementsByTagName("script"),c=0;i=s[c++];)if("interactive"===i.readyState)return i.className=i.src;return""},function(){var e=sw.currentScript();if("string"==typeof e&&e.indexOf("?")>0&&e.indexOf("=")){var t,r,n=(e=e.substr(e.indexOf("?")+1).split("&")).length;for(r=0;r<n;r++)(t=e[r].split("=")).length>1&&"string"==typeof t[0]&&_run_args.hasOwnProperty(t[0])&&(_run_args[t[0]]=0==t[1]?0:1==t[1]?1:t[1])}}(),_run_args.debug&&console.info("sw Runing Args:"),_run_args.debug&&console.info(_run_args),_run_args.prototypeExtend&&(String.prototype.trim||(console.info("SSweb Extend: String.prototype.trim"),String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}),String.prototype.trimLeft||(console.info("SSweb Extend: String.prototype.trimLeft"),String.prototype.trimLeft=function(){return this.replace(/(^\s*)/g,"")}),String.prototype.trimRight||(console.info("SSweb Extend: String.prototype.trimRight"),String.prototype.trimRight=function(){return this.replace(/(\s*$)/g,"")}),Array.isArray||(console.info("SSweb Extend: Array.isArray"),Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.forEach||(console.info("SSweb Extend: Array.prototype.forEach"),Array.prototype.forEach=function(e,t){var r,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=arguments[1]),n=0;n<i;){var s;n in o&&(s=o[n],e.call(r,s,n,o)),n++}}),Array.prototype.map||(console.info("SSweb Extend: Array.prototype.map"),Array.prototype.map=function(e,t){var r,n,o;if(null==this)throw new TypeError("this is null or not defined");var i=Object(this),s=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=arguments[1]),n=new Array(s),o=0;o<s;){var a,c;o in i&&(a=i[o],c=e.call(r,a,o,i),n[o]=c),o++}return n}),Array.prototype.some||(console.info("SSweb Extend: Array.prototype.some"),Array.prototype.some=function(e,t){if(null==this)throw new TypeError("Array.prototype.some called on null or undefined");if("function"!=typeof e)throw new TypeError("Array.prototype.some callback not function");for(var r=Object(this),n=r.length>>>0,t=arguments.length>=2?arguments[1]:void 0,o=0;o<n;o++)if(o in r&&e.call(t,r[o],o,r))return!0;return!1}),Array.prototype.every||(console.info("SSweb Extend: Array.prototype.every"),Array.prototype.every=function(e,t){var r,n;if(null==this)throw new TypeError("this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError;for(arguments.length>1&&(r=t),n=0;n<i;){var s;if(n in o&&(s=o[n],!e.call(r,s,n,o)))return!1;n++}return!0}),Array.prototype.filter||(console.info("SSweb Extend: Array.prototype.filter"),Array.prototype.filter=function(e,t){if("function"!=typeof e||!this)throw new TypeError;var r=this.length>>>0,n=new Array(r),o=this,i=0,s=-1;if(void 0===t)for(;++s!==r;)if(s in this)if(e(o[s],s,o))n[i++]=o[s];else for(;++s!==r;)s in this&&e.call(t,o[s],s,o)&&(n[i++]=o[s]);return n.length=i,n}),Array.prototype.indexOf||(console.info("SSweb Extend: Array.prototype.indexOf"),Array.prototype.indexOf=function(e,t){if(null==this)throw new TypeError("Array.prototype.indexOf() - can't convert `"+this+"` to object");var r=isFinite(t)?Math.floor(t):0,n=this instanceof Object?this:new Object(this),o=isFinite(n.length)?Math.floor(n.length):0;if(r>=o)return-1;if(r<0&&(r=Math.max(o+r,0)),void 0===e){do{if(r in n&&void 0===n[r])return r}while(++r<o)}else do{if(n[r]===e)return r}while(++r<o);return-1}),Array.prototype.lastIndexOf||(console.info("SSweb Extend: Array.prototype.lastIndexOf"),Array.prototype.lastIndexOf=function(e){if(void 0===this||null===this)throw new TypeError;var t,r,n=Object(this),o=n.length>>>0;if(0===o)return-1;for(t=o-1,arguments.length>1&&((t=Number(arguments[1]))!=t?t=0:0!=t&&t!=1/0&&t!=-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),r=t>=0?Math.min(t,o-1):o-Math.abs(t);r>=0;r--)if(r in n&&n[r]===e)return r;return-1}),"function"!=typeof Object.create&&(console.info("SSweb Extend: Object.create"),Object.create=function(e,t){function r(){}if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object: "+e);if(null===e)throw new Error("This browser's implementation of Object.create is a shim and doesn't support 'null' as the first argument.");if(void 0!==t)throw new Error("This browser's implementation of Object.create is a shim and doesn't support a second argument.");return r.prototype=e,new r}),function(){if(!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){console.info("SSweb Extend: Object.defineProperty");var e=Object.defineProperty;Object.defineProperty=function(t,r,n){if(e)try{return e(t,r,n)}catch(e){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,r,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,r,n.set),"value"in n&&(t[r]=n.value),t}}}(),"classList"in document.documentElement||(window.HTMLElement=window.HTMLElement||window.Element||!1,window.HTMLElement?(console.info("SSweb Extend: documentElement.classList"),Object.defineProperty(window.HTMLElement.prototype,"classList",{get:function(){function e(e){return function(r){var n=t.className.split(/\s+/g),o=n.indexOf(r);e(n,o,r),t.className=n.join(" ")}}var t=this;return{add:e(function(e,t,r){~t||e.push(r)}),remove:e(function(e,t){~t&&e.splice(t,1)}),toggle:e(function(e,t,r){~t?e.splice(t,1):e.push(r)}),contains:function(e){return!!~t.className.split(/\s+/g).indexOf(e)},item:function(e){return t.className.split(/\s+/g)[e]||null}}}})):console.warn("SSweb Tips: Your browser does not support window Object HTMLElement OR Element")),"object"!=typeof JSON&&(console.info("SSweb Extend: JSON"),JSON={},function(){function f(e){return 10>e?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var r,n,o,i,s,a=gap,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,r=0;i>r;r+=1)s[r]=str(r,c)||"null";return o=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+a+"]":"["+s.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(i=rep.length,r=0;i>r;r+=1)"string"==typeof rep[r]&&(n=rep[r],(o=str(n,c))&&s.push(quote(n)+(gap?": ":":")+o));else for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(o=str(n,c))&&s.push(quote(n)+(gap?": ":":")+o);return o=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+a+"}":"{"+s.join(",")+"}",gap=a,o}}var gap,indent,meta,rep,rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","   ":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;r>n;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var r,n,o=e[t];if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n=walk(o,r),void 0!==n?o[r]=n:delete o[r]);return reviver.call(e,t,o)}var j;if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}),window.JSON=JSON}())),sw.fn=sw.prototype={SSweb:"1.0.3",constructor:SSweb,instance:function(e,t){if(e=e||void 0,t=t||document,e&&e.nodeType)return this[0]=e,this.length=1,this.context=e.parentNode||t,this;this.selector=e,this.context=t,this.length=0;var r=sw.type(e);if("function"==r)sw.domReady(e);else if("array"==r)for(o=0;o<e.length;o++)sw.isDomElement(e[o])&&(this[o]=e[o],this.length++);else if("string"===r)if(sw.query){for(var n=sw.query(e,t),o=0;o<n.length;o++)this[o]=n[o];this.length=n.length}else console.warn("SSweb query not loaded");return this},size:function(){return this.length},toArray:function(){return Array.prototype.slice.call(this)}},sw.fn.instance.prototype=sw.fn,sw.extend=sw.fn.extend=function(){var e,t,r,n,o,i,s=arguments[0]||{},a=1,c=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[1]||{},a=2),"object"==typeof s||sw.isFunction(s)||(s={}),c===a&&(s=this,--a);a<c;a++)if(null!=(e=arguments[a]))for(t in e)r=s[t],s!==(n=e[t])&&(u&&n&&(sw.isPlainObject(n)||(o=sw.isArray(n)))?(o?(o=!1,i=r&&sw.isArray(r)?r:[]):i=r&&sw.isPlainObject(r)?r:{},s[t]=sw.extend(u,i,n)):void 0!==n&&(s[t]=n));return s};var helpsMethod={uuid:function(e,t){return t="string"==this.type(t)?this.trim(t):0,this.isNumber(e)&&parseInt(e)>0?(e=parseInt(e),t+(Array(e).join("0")+ ++_uuid).slice(-e)):t+ ++_uuid},log:function(e){window.console.log(e)},type:function(e){return null===e?e+"":"object"==typeof e||"function"==typeof e?_obj_types[Object.prototype.toString.call(e)]||"object":typeof e},merge:function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;)e[o++]=t[n++];if(r!==r)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e},nameStyle:function(e,t,r){if("string"!=typeof e)return"";if(t)return(o=e.trim().split(/[\_\-]+/)).map(function(e,t){return 0==t?r&&(e=e.slice(0,1).toUpperCase()+e.slice(1)):e=e.slice(0,1).toUpperCase()+e.slice(1),e}).join("");var n="string"==typeof r?r:"-",o=e.trim().replace(/([A-Z])/g,n+"$1").toLowerCase().split(n);return o.filter(function(e){return!sw.isEmpty(e)}).join(n)},trim:function(e){return"string"==typeof e?e.replace(/(^\s*)|(\s*$)/g,""):""},trimLeft:function(e){return"string"==typeof e?e.replace(/(^\s*)/g,""):""},trimRight:function(e){return"string"==typeof e?e.replace(/(\s*$)/g,""):""},isUndefined:function(e){return void 0===e||void 0===e},isInt:function(e){return/^(-|\+)?\d+$/.test(e)},isFloat:function(e){return/^(-|\+)?\d+\.\d*$/.test(v)},isNaN:function(e){return null==e||!/\d/.test(e)||isNaN(e)},isNumber:function(e){return null!=e&&/\d/.test(e)&&!isNaN(e)},toInt:function(e){return parseInt(e)||0},toFloat:function(e){return(parseFloat(e)||0).toFixed(2)},isString:function(e){return"string"==typeof e},isArray:function(e){return Array.prototype.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},inArray:function(e,t,r){return!!this.isArray(t)&&(r=void 0!==r?r?1:0:1,t.forEach(function(t){if(r){if(t===e)return!0}else if(t==e)return!0}),!1)},isFunction:function(e){if("object"!=typeof document.getElementById)return"[object Function]"===Object.prototype.toString.call(e);try{return/^\s*\bfunction\b/.test(""+e)}catch(e){return!1}},isCallFunction:function(e,t){return this.isObject(t)||(t=window),"string"==typeof e?!(!t.hasOwnProperty(e)||!this.isFunction(t[e]))&&t[e]:!!this.isFunction(e)&&e},isTrue:function(e){if(void 0===e||"null"==typeof e)return!1;if(1===e||"1"===e||!0===e||"true"===e)return!0;if(0===e||"0"===e||!1===e||"false"===e||"undefined"===e||"null"===e||""===e)return!1;if("object"==typeof e){if("{}"===e)return!1;for(var t in e)return!0}return!0},isEmpty:function(e){return null===e||void 0===e||("string"==typeof e&&e.length<1||(!(!this.isNumber(e)||0!=e)||!!(this.isArray(e)&&e.length<1)))},isObject:function(e){var t=typeof e;return!!(e&&"function"===t||"object"===t)},isEmptyObject:function(e){if(this.isObject(e)){for(var t in e)return!1;return!0}return!1},isPlainObject:function(e){if("[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object&&!hasOwnProperty.call(e,"constructor")){var t;for(t in e);return void 0===t||hasOwnProperty.call(e,t)}return!1},isSSweb:function(e){return void 0!==SSweb&&!!(e&&e instanceof SSweb)},isjQuery:function(e){return"undefined"!=typeof jQuery&&!!(e&&jQuery&&e instanceof jQuery)},isZepto:function(e){return"undefined"!=typeof Zepto&&!!(e&&Zepto&&e instanceof Zepto)},isWindow:function(e){return null!=e&&e==e.window},isDocument:function(e){return null!=e&&void 0!==e.nodeType&&void 0!==e.DOCUMENT_NODE&&e.nodeType==e.DOCUMENT_NODE},isDomElement:function(e){return"object"==typeof HTMLElement?!!(e&&e instanceof HTMLElement):!(!e||"object"!=typeof e||1!==e.nodeType||"string"!=typeof e.nodeName)},arrayUnique:function(e){var t=[];if(sw.isArray(e)){if(e.length<2)return[e[0]]||[];var r,n={},o=e.length;for(r=0;r<o;r++)n[e[r]]||(t.push(e[r]),n[e[r]]=1)}return t},arrayRemove:function(e,t){if(!sw.isArray(e))return[];var r=0,n=e.length,o=[];for(r;r<n;r++)t!=e[r]&&o.push(e[r]);return o},arrayUnset:function(e,t){if(!sw.isArray(e))return[];if(!sw.isNumber(t))return e;t=parseInt(t);var r=0,n=e.length,o=[];for(t<0&&(t+=n),r;r<n;r++)e[r]&&t!=r&&o.push(e[r]);return o},toPercent:function(e){return this.isNumber(e)?(100*e).toFixed(2)+"%":"0.00%"},formatPercent:function(e){return this.isNumber(e)?e.toFixed(2)+"%":"0.00%"},formatBytesSize:function(e){if(!this.isNumber(e))return"0 B";if(e<1)return"0 B";var t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,r)).toFixed(2)+" "+t[r]},formatMoney:function(e,t,r,n){var o=e||0,i=isNaN(t=Math.abs(t))?2:t,s="string"==typeof r||void 0!==r?r:"￥",a="string"==typeof n||void 0!==n?n:",",c=o<0?"-":"";if(!sw.isNumber(o))return i<1?"0":"0."+(0).toFixed(i).slice(2);var u=parseInt(o=Math.abs(+o||0).toFixed(i),10)+"",f=(f=u.length)>3?f%3:0;return s+c+(f?u.substr(0,f)+a:"")+u.substr(f).replace(/(\d{3})(?=\d)/g,"$1"+a)+(i?"."+Math.abs(o-u).toFixed(i).slice(2):"")},replaceValueMatch:function(e,t){if("string"!=sw.type(e))return"";if("object"!=sw.type(t))return e;var r=(e=e.replace("%5B","[").replace("%5D","]")).match(/\[\w+\]/g);if(r.length>0){var n=[];r.forEach(function(r){"string"==typeof r&&((n=r.replace("[","").replace("]","")).indexOf(".")>0?(n=n.split("."))[0]&&n[1]&&t[n[0]][n[1]]&&(e=e.replace(r,t[n[0]][n[1]])):t[n]&&(e=e.replace(r,t[n])))})}return e},dateFormat:function(e,t){if(sw.isNumber(e)){if(e>=1e9&&e<=9999999999)e*=1e3;else if(e<1e9)return""}else{if("string"!=typeof e)return"";var r=e.match(/(\/Date\((\d+)\)\/)/);if(!(r&&r.length>=3))return e;e=parseInt(r[2])}var n=new Date(e);if(!n||"Invalid Date"==n.toUTCString())return"";"string"!=typeof t&&(t="yyyy-mm-dd hh:ii:ss");var o={m:n.getMonth()+1,d:n.getDate(),h:n.getHours(),i:n.getMinutes(),s:n.getSeconds(),q:Math.floor((n.getMonth()+3)/3),S:n.getMilliseconds()};return t=t.replace(/([ymdhisqS])+/g,function(e,t){var r=o[t];return void 0!==r?(e.length>1&&(r=(r="0"+r).substr(r.length-2)),r):"y"===t?(n.getFullYear()+"").substr(4-e.length):e})},urlGetParam:function(e,t){var r="string"==typeof e&&this.trim(e),n="string"==typeof t?this.trim(t):window.location.href;if(""==n||!r)return"";var o="",i=!1,s="",a=0;if(n.indexOf("?")>0&&n.indexOf("=")>0){if(!(n=unescape(n).split("?"))[1])return"";if(s=n[1].split("&"),""==r)return s;for(;a<s.length&&!i;)s[a].indexOf("=")>0&&s[a].split("=")[0].toLowerCase()==r.toLowerCase()&&(o=s[a].split("=")[1],i=!0),a++}return""==o||null==o?"":o},urlAddParam:function(_name,_value,_url){var name="string"==typeof _name&&this.trim(_name),value=void 0===_value?"undefined":_value,url="string"==typeof _url?this.trim(_url):window.location.href;if(!name)return url;var newUrl="",reg=new RegExp("(^|)"+name+"=([^&]*)(|$)"),tmp=name+"="+value;return newUrl=null!=url.match(reg)?url.replace(eval(reg),tmp):url.match("[?]")?url+"&"+tmp:url+"?"+tmp},urlParse:function(e){var t="string"==typeof e?e:window.location.href,r="",n="",o={domain:"",port:80,ssl:0,params:{}};if(""==(t=this.trim(t)))return o;(t=t.split("?"))[0]&&"string"==typeof t[0]&&(r=t[0].toLowerCase(),t.length>1&&(t[0]="")),n=t.join("");-1!==r.indexOf("https://")?(o.ssl=1,o.port=443):(o.ssl=0,o.port=80);var i=/[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\.?/.exec(r);i&&"string"==typeof i[0]&&(o.domain=i[0]),n=n.split("&");for(var s=0;s<n.length;s++){var a=n[s].indexOf("=");if(-1!=a){var c=n[s].substring(0,a);if("string"==typeof c&&""!=c){var u=n[s].substring(a+1);o.params[c]=u}}}return o},randomString:function(e,t){var r=sw.isNumber(e)&&parseInt(e)||16,n="string"==typeof t&&t||"",o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];"alpha"==n?o=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"]:"number"==n&&(o=["0","1","2","3","4","5","6","7","8","9"]),n="";var i;for(i=0;i<r;i++)n+=o[Math.round(Math.random()*(o.length-1))];return n}};sw.extend(helpsMethod);var _getClient=function(){var e=navigator.platform.toLowerCase(),t=navigator.userAgent.toLowerCase(),r={win:!1,mac:!1,ios:!1,android:!1,unix:!1,linux:!1,other:!1};e.indexOf("win")>-1?r.windows=!0:e.indexOf("mac")>-1?r.mac=!0:e.indexOf("android")>-1?r.android=!0:e.indexOf("linux")>-1?r.linux=!0:"x11"==e?r.unix=!0:r.other=!0;var n={pc:!1,mobile:!1,android:!1,iphone:!1,ipad:!1,ipod:!1};(t.match(/applewebkit.*mobile.*/)||t.indexOf("windows ce")>-1||t.indexOf("windows mobile")>-1)&&(n.mobile=!0),t.match(/iphone|ipad|ipod/i)?(r.ios=!0,n.mobile=!0,t.match(/ipad/i)?n.ipad=!0:t.match(/ipad/i)?n.ipad=!0:n.iphone=!0):t.match(/(android);?[\s\/]+([\d.]+)?/)?n.android=!0:n.pc=!0;var o,i={lang:(navigator.browserLanguage||navigator.language||"").toLowerCase(),version:0,versionFull:"",isIE:0,isIE6:0,isIE7:0,isIE8:0,isIE9:0,isIE10:0,isIE11:0,isEdge:0,isChrome:0,isSafari:0,isFirefox:0,isOpera:0,isWebkit:0,versionWebkit:0,versionWebkitFull:""},s={};(o=t.match(/edge\/([\d.]+)/))?s.edge=o[1]:(o=t.match(/rv:([\d.]+)\) like gecko/))?s.ie=o[1]:(o=t.match(/msie ([\d.]+)/))?s.ie=o[1]:(o=t.match(/firefox\/([\d.]+)/))?s.firefox=o[1]:(o=t.match(/chrome\/([\d.]+)/))?s.chrome=o[1]:(o=t.match(/opera.([\d.]+)/))?s.opera=o[1]:(o=t.match(/version\/([\d.]+).*safari/))&&(s.safari=o[1]),s.edge&&(i.isEdge=1,i.versionFull=s.edge),s.ie&&(i.isIE=1,i.versionFull=s.ie),s.firefox&&(i.isFirefox=1,i.versionFull=s.firefox),s.chrome&&(i.isChrome=1,i.versionFull=s.chrome),s.opera&&(i.isOpera=1,i.versionFull=s.opera),s.safari&&(i.isSafari=1,i.versionFull=s.safari),((o=t.match(/applewebkit\/([\d.]+)/))?s.webkit=o[1]:0)&&(i.isWebkit=1,i.versionWebkit=parseInt(s.webkit,10),i.versionWebkitFull=s.webkit),i.versionFull<1&&(i.versionFull=navigator.appVersion||0),i.version=parseInt(i.versionFull,10),s.ie&&(s.ie=parseInt(s.ie||6,10),i.hasOwnProperty("isIE"+s.ie)&&(i["isIE"+s.ie]=!0));var a="ontouchend"in document;return{os:r,device:n,browser:i,touchSupport:a,touchEvent:a?"touchstart":"click"}},_client=_getClient();sw.domReady=function(e){if(sw.isFunction(e))if("complete"==document.readyState)e();else if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else{var t=!1,r=function(){t||(t=!0,e())},n=function(){if(!t){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(n,50)}r()}};n(),document.onreadystatechange=function(){"complete"==document.readyState&&(document.onreadystatechange=null,r())}}};var _cookies=function(e,t,r){return 1===arguments.length?_cookies.get(e):arguments.length>1&&null===t&&void 0!==t?_cookies.rm(e,r):arguments.length>1?"number"==typeof r?_cookies.set(e,t,{expires:r}):_cookies.set(e,t,r):_cookies};_cookies._document=window.document,_cookies._cacheKeyPrefix="sw_",_cookies._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),_cookies.defaults={path:"/",domain:"",prefix:"sw_",expires:0,secure:!1},_cookies.config=function(e,t){return"object"==typeof e?_cookies.defaults=sw.extend(_cookies.defaults,e):"string"==typeof e&&(_cookies.defaults[sw.trim(e)]=void 0===t?void 0:t),_cookies._cacheKeyPrefix=_cookies.defaults.prefix,_cookies},_cookies.get=function(e){if("string"!=typeof e)return console.info("sw cookies `key` must be a string"),!1;_cookies._cachedDocumentCookie!==_cookies._document.cookie&&_cookies._renewCache();var t=_cookies._cache[_cookies._cacheKeyPrefix+e];if("[=UNDEFINED]"!==t)return void 0===t?null:t},_cookies.set=function(e,t,r){if("string"!=typeof e)return console.info("sw cookies `key` must be a string"),!1;var n;if(n="number"==typeof r?_cookies._getExtendedOptions({expires:r}):_cookies._getExtendedOptions(r),void 0===t)t="[=UNDEFINED]";else{if("string"==typeof t||sw.isFunction(t))return console.info("sw cookies `value` types does not support"),!1;try{t="[=JSON]"+JSON.stringify(t)}catch(e){if(t.toString)return console.info("sw cookies `value` types does not support"),!1;t=t.toString()}}return n.expires=_cookies._getExpiresDate(n.expires),_cookies._document.cookie=_cookies._generateCookieString(e,t,n),!0},_cookies.rm=function(e){return _cookies.set(e,void 0,{expires:-1})},_cookies._getExtendedOptions=function(e){return{path:e&&e.path||_cookies.defaults.path,domain:e&&e.domain||_cookies.defaults.domain,expires:e&&e.expires||_cookies.defaults.expires,secure:e&&void 0!==e.secure?e.secure:_cookies.defaults.secure}},_cookies._isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},_cookies._getExpiresDate=function(e,t){if(t=t||new Date,(e="number"==typeof e&&0!=e?e===1/0?_cookies._maxExpireDate:new Date(t.getTime()+1e3*e):"string"==typeof e&&""!=e?new Date(e):void 0)&&!_cookies._isValidDate(e))throw new Error("sw cookies `expires` cannot be converted to a valid Date instance");return e},_cookies._generateCookieString=function(e,t,r){e=(e=e.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"),r=r||{};var n=_cookies._cacheKeyPrefix+e+"="+t;return n+=r.path&&""!=r.path?";path="+r.path:"",n+=r.domain&&""!=r.domain?";domain="+r.domain:"",n+=r.expires&&""!=r.expires&&0!=r.expires?";expires="+r.expires.toUTCString():"",n+=r.secure?";secure":""},_cookies._getCacheFromString=function(e){for(var t={},r=e?e.split("; "):[],n=0;n<r.length;n++){var o=_cookies._getKeyValuePairFromCookieString(r[n]);o&&void 0===t[o.key]&&(t[o.key]=o.value)}return t},_cookies._getKeyValuePairFromCookieString=function(e){var t=e.indexOf("=");t=t<0?e.length:t;var r,n,o,i=!1;try{r=e.substr(0,t),0===(n=decodeURIComponent(r)).indexOf(_cookies._cacheKeyPrefix)&&("string"==typeof(o=e.substr(t+1))?0===o.indexOf("[=JSON]")&&o.length>7&&(o=JSON.parse(o.substr(7))):o=null,i=!0)}catch(e){console.error('sw cookies could not decode cookie with key "'+r+'"',e)}return!!i&&{key:n,value:o}},_cookies._renewCache=function(){_cookies._cache=_cookies._getCacheFromString(_cookies._document.cookie),_cookies._cachedDocumentCookie=_cookies._document.cookie},_cookies._areEnabled=function(){_cookies.set("testKey",1);var e=1===_cookies.get("testKey");return _cookies.rm("testKey"),e},_cookies.enabled=_cookies._areEnabled(),_cookies.enabled||console.info("sw: Browser/client does not support cookies"),window.localStorage||console.info("sw: Browser/client does not support localStorage");var _storage=function(e,t){return!!_storage.db&&(1===arguments.length?_storage.get(e):arguments.length>1&&null===t&&void 0!==t?_storage.rm(e):arguments.length>1?_storage.set(e,t):_storage)};_storage.db=window.localStorage||!1,_storage.set=function(e,t){if(_storage.db&&arguments.length>1&&"string"==typeof e){if(void 0===t)return t="[=UNDEFINED]",_storage.db.setItem(e,t),!0;if("string"!=typeof t&&!sw.isFunction(t))try{return _storage.db.setItem(e,"[=JSON]"+JSON.stringify(t)),!0}catch(r){if(t.toString)return _storage.db.setItem(e,t.toString()),!0}}return console.info("sw storage `value` types does not support"),!1},_storage.get=function(e){if(_storage.db&&"string"==typeof e){var t=_storage.db.getItem(e);if(void 0===t)return null;if("string"==typeof t){if("[=UNDEFINED]"===t)return;0===t.indexOf("[=JSON]")&&t.length>7&&(t=JSON.parse(t.substr(7)))}return t}return!1},_storage.rm=function(e){return!(!_storage.db||"string"!=typeof e)&&(_storage.db.removeItem(e),!0)},_storage.clear=function(){return!!_storage.db&&(_storage.db.clear(key),!0)},sw.extend({client:_client,cookies:_cookies,storage:_storage});var SSweb=sw;"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=SSweb:"function"==typeof define&&define.amd?define(function(){return SSweb}):window.SSweb=window.sw=sw}(window||!1);